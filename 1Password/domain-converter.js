#!/usr/bin/env node

const fs = require('node:fs');

/**
 * Domain to generic name mapping function
 * @param {string} domainTitle - The domain title to convert
 * @returns {string} - The generic name
 */
function mapDomainToGenericName(domainTitle) {
    if (!domainTitle || typeof domainTitle !== 'string') {
        return domainTitle;
    }

    // Remove protocol if present and trailing slashes
    const domain = domainTitle.replace(/^https?:\/\//, '').replace(/\/+$/, '').replace(/^([^/]+).*$/, '$1');

    // Individual domain mappings for exact matches
    const exactMatches = {
        // Security
        'auth0.com': 'Auth0',
        'passkeys.io': 'Passkeys',
        'passkey.org': 'Passkey',

        // Development and Programming
        'stackoverflow.com': 'Stack Overflow',
        'serverfault.com': 'Server Fault',
        'superuser.com': 'Super User',
        'codesandbox.io': 'CodeSandbox',
        'jsfiddle.net': 'JSFiddle',
        'plnkr.co': 'Plunker',
        'observablehq.com': 'Observable',
        'bl.ocks.org': 'Blocks',
        'blockbuilder.org': 'Block Builder',
        'jsbin.com': 'JS Bin',
        'sqlfiddle.com': 'SQL Fiddle',
        'dbfiddle.uk': 'DB Fiddle',
        'dotnetfiddle.net': 'DotNet Fiddle',
        'ideone.com': 'Ideone',
        'paiza.io': 'Paiza.IO',
        'repl.it': 'Repl.it',
        'mybinder.org': 'MyBinder',
        'wandbox.org': 'Wandbox',
        'godbolt.org': 'Compiler Explorer',
        'regex101.com': 'Regex101',
        'regexr.com': 'Regexr',
        'hackerrank.com': 'HackerRank',
        'hackerearth.com': 'HackerEarth',
        'codechef.com': 'CodeChef',
        'codewars.com': 'CodeWars',
        'topcoder.com': 'TopCoder',
        'kattis.com': 'Kattis',
        'spoj.com': 'SPOJ',
        'atcoder.jp': 'AtCoder',
        'codeforces.com': 'Codeforces',
        'csacademy.com': 'CS Academy',
        'lightoj.com': 'LightOJ',
        'timus.ru': 'Timus',
        'a2oj.com': 'A2OJ',
        'projecteuler.net': 'Project Euler',
        'rosalind.info': 'Rosalind',
        'bioinformatics.org': 'Bioinformatics',
        'databricks.com': 'Databricks',
        'udacity.com': 'Udacity',
        'pluralsight.com': 'Pluralsight',
        'lynda.com': 'Lynda',
        'skillshare.com': 'Skillshare',
        'treehouse.com': 'Treehouse',
        'wesbos.com': 'Wes Bos',
        'javascript30.com': 'JavaScript30',
        'freecodecamp.org': 'freeCodeCamp',
        'theodinproject.com': 'The Odin Project',
        'scrimba.com': 'Scrimba',
        'teamtreehouse.com': 'Team Treehouse',
        'thinkful.com': 'Thinkful',
        'generalassemb.ly': 'General Assembly',
        'appacademy.io': 'App Academy',
        'flatironschool.com': 'Flatiron School',
        'codingdojo.com': 'Coding Dojo',
        'makersacademy.com': 'Makers Academy',
        'devbootcamp.com': 'Dev Bootcamp',
        'ironhack.com': 'Ironhack',
        'lewagon.com': 'Le Wagon',
        'microverse.org': 'Microverse',
        'codersrank.io': 'Codersrank',
        'hackthebox.eu': 'HackTheBox',
        'tryhackme.com': 'TryHackMe',
        'overthewire.org': 'OverTheWire',
        'ctftime.org': 'CTFtime',
        'ctflearn.com': 'CTF Learn',
        'picoctf.org': 'PicoCTF',
        'ctf365.com': 'CTF365',
        'root-me.org': 'Root-Me',
        'ctfchallenge.com': 'CTF Challenge',
        'ctf101.org': 'CTF101',
        'ctfzone.org': 'CTF Zone',
        'ctf-archive.com': 'CTF Archive',

        // Cloud Services
        's3.amazonaws.com': 'Amazon S3',
        'cloudfront.net': 'CloudFront',
        'linode.com': 'Linode',
        'vultr.com': 'Vultr',
        'heroku.com': 'Heroku',
        'vercel.com': 'Vercel',
        'netlify.com': 'Netlify',
        'surge.sh': 'Surge',
        'firebase.com': 'Firebase',
        'app.supabase.com': 'Supabase Dashboard',
        'planetscale.com': 'PlanetScale',
        'render.com': 'Render',

        // Communication and collaboration
        'slack.com': 'Slack',
        'discord.gg': 'Discord',
        'teams.microsoft.com': 'Microsoft Teams',
        'trello.com': 'Trello',
        'asana.com': 'Asana',
        'jira.atlassian.com': 'Jira',
        'confluence.atlassian.com': 'Confluence',

        // Social media
        'x.com': 'X',
        'youtube.com': 'YouTube',
        'pinterest.com': 'Pinterest',
        'snapchat.com': 'Snapchat',
        'twitch.tv': 'Twitch',

        // Email services
        'gmail.com': 'Gmail',
        'outlook.com': 'Outlook',
        'yahoo.com': 'Yahoo Mail',
        'protonmail.com': 'Proton Mail',
        'mailchimp.com': 'Mailchimp',

        // Indonesian services
        'dsg.id': 'DSG',
        'tokopedia.com': 'Tokopedia',
        'traveloka.com': 'Traveloka',
        'tiket.com': 'Tiket',
        'gojek.com': 'Gojek',
        'grab.com': 'Grab',
        'ovo.id': 'OVO',
        'gopay.co.id': 'GoPay',
        'bca.co.id': 'BCA',
        'mandiri.co.id': 'Mandiri',
        'bni.co.id': 'BNI',
        'bri.co.id': 'BRI',

        // Internal/admin domains
        'admin.localhost': 'Admin',
        'cpanel.localhost': 'cPanel',
        'webmail.localhost': 'Webmail',

        // Auth and account services
        'auth.github.com': 'GitHub',
        'accounts.shopify.com': 'Shopify',

        // Dashboard and panel services
        'dashboard.g2i.co': 'G2i',
        'admin.g2i.co': 'G2i',
        'panel.g2i.co': 'G2i',
        'cpanel.hostinger.com': 'cPanel',

        // Service-specific domains
        'manage.auth0.com': 'Auth0',
        'dashboard.stripe.com': 'Stripe',
        'console.cloud.google.com': 'Google Cloud Console',
        'portal.azure.com': 'Azure Portal',

        // Add all the domains from the user's list with their corresponding clean titles
        '1cak.com': '1CAK',
        '500px.com': '500px',
        '9gag.com': '9GAG',
        'about.me': 'About',
        'academy.bitlabs.id': 'Bitlabs',
        'academy.mounev.com': 'Mounev',
        'account.acer.com': 'Acer',
        'account.asus.com': 'Asus',
        'account.dyn.com': 'Dyn',
        'account.envato.com': 'Envato',
        'account.forem.com': 'Forem',
        'account.gandi.net': 'Gandi',
        'account.hoyoverse.com': 'Hoyoverse',
        'account.jetbrains.com': 'JetBrains',
        'account.kemnaker.go.id': 'Kemnaker',
        'account.mekari.com': 'Mekari',
        'account.midtrans.com': 'Midtrans',
        'account.mihoyo.com': 'Mihoyo',
        'account.mongodb.com': 'MongoDB',
        'account.netmaker.io': 'Netmaker',
        'account.proton.me': 'Proton',
        'account.riotgames.com': 'Riotgames',
        'account.shodan.io': 'Shodan',
        'account.xiaomi.com': 'Xiaomi',
        'accounts.axure.com': 'Axure',
        'accounts.bhinneka.com': 'Bhinneka',
        'accounts.binance.com': 'Binance',
        'accounts.codeguide.dev': 'Codeguide',
        'accounts.crowdin.com': 'Crowdin',
        'accounts.google.com': 'Google',
        'accounts.hetzner.com': 'Hetzner',
        'accounts.nintendo.com': 'Nintendo',
        'accounts.openrouter.ai': 'OpenRouter',
        'accounts.paradoxplaza.com': 'Paradox',
        'accounts.pubg.com': 'PUBG',
        'accounts.sanity.io': 'Sanity',
        'accounts.thingiverse.com': 'Thingiverse',
        'accounts.zerotier.com': 'ZeroTier',
        'accounts.zoho.com': 'Zoho',
        'adm.nadi.co.id': 'Nadi',
        'admin.freestyle.sh': 'Freestyle',
        'adobe.com': 'Adobe',
        'airbnb.co.id': 'Airbnb',
        'ais2020.id': 'AIS',
        'akses.ksei.co.id': 'KSEI',
        'alfagift.id': 'Alfagift',
        'alhikmah.mikhmon.cc': 'Alhikmah',
        'alin.mikhmon.me': 'Alin',
        'almanac.io': 'Almanac',
        'amazon.com': 'Amazon',
        'anaconda.org': 'Anaconda',
        'angel.co': 'AngelList',
        'anthropic.com': 'Anthropic',
        'antivirus-original.id': 'Antivirus Original',
        'apidog.com': 'Apidog',
        'app.anonaddy.com': 'AnonAddy',
        'app.benji.so': 'Benji',
        'app.bitly.com': 'Bitly',
        'app.bitrise.io': 'Bitrise',
        'app.box.com': 'Box',
        'app.clickup.com': 'ClickUp',
        'app.cloudcraft.co': 'Cloudcraft',
        'app.daily.dev': 'Daily',
        'app.element.io': 'Element',
        'app.esign.mekari.com': 'Mekari',
        'app.flagsmith.com': 'Flagsmith',
        'app.gitkraken.com': 'Gitkraken',
        'app.glitchtip.com': 'Glitchtip',
        'app.highlight.io': 'Highlight',
        'app.insomnia.rest': 'Insomnia',
        'app.koofr.net': 'Koofr',
        'app.link.com': 'Link',
        'app.netlify.com': 'Netlify',
        'app.onesignal.com': 'OneSignal',
        'app.originality.ai': 'Originality',
        'app.outlier.ai': 'Outlier',
        'app.plex.tv': 'Plex',
        'app.pluralsight.com': 'Pluralsight',
        'app.requestly.io': 'Requestly',
        'app.ritapersonaldata.com': 'Ritapersonaldata',
        'app.simplelogin.io': 'SimpleLogin',
        'app.teleprompter.com': 'Teleprompter',
        'app.usebraintrust.com': 'Braintrust',
        'app.zerossl.com': 'ZeroSSL',
        'apple.com': 'Apple',
        'apply.appledeveloperacademy.uc.ac.id': 'ADC UC',
        'arc.net': 'Arc',
        'arstechnica.com': 'Arstechnica',
        'artstation.com': 'ArtStation',
        'asia.wargaming.net': 'Wargaming',
        'asiv4.smartplatform.asia': 'ASIV4',
        'ask.fm': 'Ask.Fm',
        'auth.adguard.com': 'Adguard',
        'auth.docker.com': 'Docker',
        'auth.hostinger.com': 'Hostinger',
        'auth.mistral.ai': 'Mistral',
        'auth.nx.app': 'Nx',
        'auth0.openai.com': 'OpenAI',
        'authenticator.cursor.sh': 'Cursor',
        'aws.amazon.com': 'AWS',
        'azure.microsoft.com': 'Azure',
        'behance.net': 'Behance',
        'bilibili.tv': 'Bilibili',
        'bitbucket.org': 'Bitbucket',
        'bitly.com': 'Bitly',
        'blockchain.com': 'Blockchain',
        'bluehost.com': 'Bluehost',
        'booking.com': 'Booking',
        'brainly.co.id': 'Brainly',
        'builder.io': 'Builder',
        'bukalapak.com': 'Bukalapak',
        'canva.com': 'Canva',
        'capital.com': 'Capital',
        'chat.deepseek.com': 'DeepSeek',
        'chrome.com': 'Chrome',
        'classroom.google.com': 'Google Classroom',
        'clickup.com': 'ClickUp',
        'clockify.me': 'Clockify',
        'cloud.digitalocean.com': 'DigitalOcean',
        'cloudflare.com': 'Cloudflare',
        'codeberg.org': 'Codeberg',
        'codecademy.com': 'CodeCademy',
        'codepen.io': 'CodePen',
        'codepolitan.com': 'Codepolitan',
        'coinbase.com': 'Coinbase',
        'coinmarketcap.com': 'Coinmarketcap',
        'coinone.co.id': 'CoinOne',
        'colab.research.google.com': 'Google Colab',
        'console.aws.amazon.com': 'AWS Console',
        'console.firebase.google.com': 'Firebase Console',
        'console.passage.id': 'Passage',
        'coursera.org': 'Coursera',
        'cpanel.chalidana.com': 'cPanel',
        'craft.do': 'Craft',
        'crowdin.com': 'Crowdin',
        'dashboard.render.com': 'Render',
        'dashboard.spun.global': 'Spun',
        'datacamp.com': 'Datacamp',
        'dealls.com': 'Dealls',
        'deepnote.com': 'Deepnote',
        'dev.to': 'Dev',
        'devpost.com': 'Devpost',
        'dicoding.com': 'Dicoding',
        'digitalocean.com': 'DigitalOcean',
        'directus.cloud': 'Directus',
        'discord.com': 'Discord',
        'docker.com': 'Docker',
        'dotenv.org': 'Dotenv',
        'driver-sea.taxsee.com': 'Taxsee',
        'dribbble.com': 'Dribbble',
        'dropbox.com': 'Dropbox',
        'ebay.com': 'eBay',
        'edu.hsi.id': 'HSI',
        'efss.qloud.my': 'Qloud',
        'egghead.io': 'egghead',
        'emailnotif.kai.id': 'KAI',
        'en.wikipedia.org': 'Wikipedia',
        'eu1.dashboard.clevertap.com': 'CleverTap',
        'evaluasi.grupislamsunnah.com': 'Grup Islam Sunnah',
        'exacoat.com': 'Exacoat',
        'exercism.org': 'Exercism',
        'expo.dev': 'Expo',
        'expo.muktamar48.id': 'Muktamar48',
        'facebook.com': 'Facebook',
        'feedly.com': 'Feedly',
        'fig.io': 'Fig',
        'figma.com': 'Figma',
        'firecrawl.dev': 'Firecrawl',
        'fireship.io': 'Fireship',
        'flip.id': 'Flip',
        'fly.io': 'Fly',
        'foodlama-workspace.slack.com': 'FoodLama',
        'forum.xda-developers.com': 'XDA',
        'forums.macrumors.com': 'Macrumors',
        'frollo.us': 'Frollo',
        'frontendmasters.com': 'Frontend Masters',
        'fuzuyx.mycozy.cloud': 'Cozy',
        'geekle.us': 'Geekle',
        'genshin.chiya.dev': 'Chiya',
        'get.tech': 'GetTech',
        'getpocket.com': 'Pocket',
        'giphy.com': 'Giphy',
        'github.com': 'GitHub',
        'gitlab.com': 'GitLab',
        'gitlab.customs.go.id': 'GitLab',
        'glints.com': 'Glints',
        'glitch.com': 'Glitch',
        'google.com': 'Google',
        'gptinf.com': 'GPTInf',
        'grammarly.com': 'Grammarly',
        'gsmarena.com': 'GSMArena',
        'gumroad.com': 'Gumroad',
        'habitica.com': 'Habitica',
        'hashnode.com': 'Hashnode',
        'himalayas.app': 'Himalayas',
        'hootsuite.com': 'Hootsuite',
        'hopin.com': 'Hopin',
        'hpanel.hostinger.com': 'Hostinger',
        'hub.flexibits.com': 'Flexibits',
        'huggingface.co': 'Hugging Face',
        'ibank.klikbcasyariah.com': 'KlikBCA',
        'ibm.com': 'IBM',
        'ibox.co.id': 'iBox',
        'icons8.com': 'Icons8',
        'id.aliexpress.com': 'Aliexpress',
        'id.atlassian.com': 'Atlassian',
        'id.bisnis.com': 'Bisnis',
        'id.docker.com': 'Docker',
        'id.freepikcompany.com': 'Freepik',
        'id.getmailspring.com': 'Getmailspring',
        'id.hellosehat.com': 'Hellosehat',
        'id.logi.com': 'Logi',
        'id.pinterest.com': 'Pinterest',
        'id.sonyentertainmentnetwork.com': 'Sony',
        'id.unity.com': 'Unity',
        'id.wikihow.com': 'WikiHow',
        'identity.flickr.com': 'Flickr',
        'ifttt.com': 'IFTTT',
        'imgur.com': 'Imgur',
        'indodax.com': 'Indodax',
        'insomnia.rest': 'Insomnia',
        'instagram.com': 'Instagram',
        'internal.dsg.id': 'Internal',
        'international.bittrex.com': 'Bittrex',
        'ipinfo.io': 'Ipinfo',
        'iq.com': 'iQiyi',
        'itemku.com': 'Itemku',
        'ithb-pmb.harukaedu.com': 'Harukaedu',
        'jago.com': 'Jago',
        'jagoan.cloud': 'Jagoan',
        'jira.beacukai.go.id': 'Jira',
        'kaggle.com': 'Kaggle',
        'kagi.com': 'Kagi',
        'keybase.io': 'Keybase',
        'kitabisa.com': 'KitaBisa',
        'klikindomaret.com': 'Indomaret',
        'kumparan.com': 'Kumparan',
        'lazismu.org': 'Lazismu',
        'learn.deeplearning.ai': 'Deeplearning',
        'leetcode.com': 'Leetcode',
        'lifeafter.neteasegamer.com': 'NetEase',
        'line.me': 'Line',
        'linebank.co.id': 'LINE Bank',
        'linkedin.com': 'LinkedIn',
        'linustechtips.com': 'Linustechtips',
        'live.com': 'Microsoft',
        'login.aol.com': 'AOL',
        'login.blockchain.com': 'Blockchain',
        'login.circle.so': 'Circle',
        'login.coinbase.com': 'Coinbase',
        'login.gaijin.net': 'Gaijin',
        'login.gearbest.com': 'Gearbest',
        'login.gog.com': 'GOG',
        'login.iis.net': 'IIS',
        'login.linode.com': 'Linode',
        'login.microsoftonline.com': 'Microsoft',
        'login.okta.com': 'Okta',
        'login.teamviewer.com': 'TeamViewer',
        'login.yahoo.com': 'Yahoo',
        'loom.com': 'Loom',
        'lottiefiles.com': 'Lottiefiles',
        'lwn.net': 'LWN',
        'm.cinepolis.co.id': 'Cinepolis',
        'mamikos.com': 'Mamikos',
        'mapgenie.io': 'Mapgenie',
        'masaj.id': 'Masaj',
        'mediakonsumen.com': 'Mediakonsumen',
        'medium.com': 'Medium',
        'mega.nz': 'Mega',
        'member.blanja.com': 'Blanja',
        'member.citilink.co.id': 'Citilink',
        'member.hide.me': 'Hide',
        'member.indowebsite.com': 'Indowebsite',
        'member.jagoanhosting.com': 'Jagoan Hosting',
        'member.lazada.co.id': 'Lazada',
        'member.tunnel.id': 'Tunnel',
        'merchant.gudangvoucher.com': 'Gudang Voucher',
        'mixer.com': 'Mixer',
        'monday.com': 'Monday.com',
        'monect.com': 'Monect',
        'moneylover.me': 'MoneyLover',
        'mozilla.org': 'Mozilla',
        'my.1password.com': '1Password',
        'my.mlh.io': 'MLH',
        'my.nextdns.io': 'NextDNS',
        'my.surfshark.com': 'Surfshark',
        'my.tabnine.com': 'Tabnine',
        'myid.canon': 'Canon',
        'myih.telkom.co.id': 'Indihome',
        'myjobstreet.jobstreet.com': 'Jobstreet',
        'new.edmodo.com': 'Edmodo',
        'news.ycombinator.com': 'HackerNews',
        'noip.com': 'No-IP',
        'notion.so': 'Notion',
        'nu-tech.id': 'Nutech',
        'observability.nadi.co.id': 'Nadi',
        'office.com': 'Microsoft Office',
        'ollama.com': 'Ollama',
        'onboarding.sendinblue.com': 'Sendinblue',
        'opennote.me': 'OpenNote',
        'openrouter.ai': 'OpenRouter',
        'openwebui.com': 'OpenWebUI',
        'operationcode.org': 'Operationcode',
        'oracle.com': 'Oracle',
        'orcid.org': 'Orcid',
        'osdn.net': 'Osdn',
        'oyorooms.com': 'Oyo',
        'p-store.net': 'PStore',
        'passport.alibaba.com': 'Alibaba',
        'passport.alibabacloud.com': 'Alibaba Cloud',
        'passport.twitch.tv': 'Twitch',
        'passport.yandex.com': 'Yandex',
        'payloadcms.com': 'Payload',
        'perpustakaan.jakarta.go.id': 'Jakarta',
        'php.id': 'PHP',
        'pkwifi.mahavikri.net': 'PKWiFi',
        'platform.deepseek.com': 'DeepSeek',
        'pln.co.id': 'PLN Mobile',
        'portal.biznetgio.com': 'Biznet',
        'postman.co': 'Postman',
        'prismlive.com': 'PRISM Live',
        'privateemail.com': 'PrivateEmail',
        'profile.codersrank.io': 'Codersrank',
        'profreehost.com': 'ProFreeHost',
        'projects.360solusiteknologi.co.id': 'Projects',
        'projects.animaapp.com': 'Animaapp',
        'projects.co.id': 'Projects',
        'quora.com': 'Quora',
        'raidforums.com': 'RaidForums',
        'railway.app': 'Railway',
        'rainbow.me': 'Rainbow',
        'rapidapi.com': 'Rapidapi',
        'raycast.com': 'Raycast',
        'raywenderlich.auth0.com': 'Raywenderlich',
        'realvnc.com': 'RealVNC',
        'reddit.com': 'Reddit',
        'relocate.me': 'Relocate',
        'remotasks.zendesk.com': 'Remotasks',
        'remoteworker.id': 'Remoteworker',
        'replit.com': 'Replit',
        'resend.com': 'Resend',
        'resocoder.com': 'Resocoder',
        'retroachievements.org': 'RetroAchievements',
        'rive.app': 'Rive',
        'robinhood.com': 'Robinhood',
        'rumahweb.com': 'Rumahweb',
        'run.qwiklabs.com': 'Qwiklabs',
        'same.dev': 'Same',
        'samsatdigital.id': 'SignalPolri',
        'samsung.com': 'Samsung',
        'sandbox.doku.com': 'Doku',
        'scrapybara.com': 'Scrapybara',
        'secure.devpost.com': 'Devpost',
        'secure.meetup.com': 'MeetUp',
        'secure.soundcloud.com': 'Soundcloud',
        'secure.tesco.com': 'Tesco',
        'sendpulse.com': 'Sendpulse',
        'sensus.bps.go.id': 'BPS',
        'shopee.co.id': 'Shopee',
        'sicepat.com': 'SiCepat',
        'signin.ea.com': 'EA',
        'signin.rockstargames.com': 'Rockstar',
        'signon.ghostery.com': 'Ghostery',
        'signup.cloud.oracle.com': 'Oracle Cloud',
        'signup.hulu.com': 'Hulu',
        'simkah4.kemenag.go.id': 'Kemenag',
        'skills.pintar.co': 'Pintar',
        'smartfren.com': 'Smartfren',
        'soundiiz.com': 'Soundiiz',
        'soundpeats.com': 'SoundPEATS',
        'sourceforge.net': 'SourceForge',
        'spaceship.com': 'Spaceship',
        'spacetoongo.com': 'Spacetoon Go',
        'spacetoongo.sentry.io': 'Sentry',
        'spacetoongo.slack.com': 'Slack',
        'speedtest.net': 'Speedtest',
        'spoonacular.com': 'Spoonacular',
        'spotify.com': 'Spotify',
        'sso.crunchyroll.com': 'Crunchyroll',
        'sso.garena.com': 'Garena',
        'sso.pintaria.com': 'Pintaria',
        'sso.teachable.com': 'Teachable',
        'stackblitz.com': 'StackBlitz',
        'stackexchange.com': 'Stack Exchange',
        'staging-api-ydsf.dsg.id': 'Staging API',
        'station-prod.eu.auth0.com': 'Station',
        'steampowered.com': 'Steam',
        'stockbit.com': 'Stockbit',
        'substack.com': 'Substack',
        'supabase.com': 'Supabase',
        'supermaven.com': 'Supermaven',
        'support.dsg.id': 'Support',
        'survey.stateofjs.com': 'Stateofjs',
        'tailscale.com': 'Tailscale',
        'talent.skilledd.com': 'Skilledd',
        'tavily.us.auth0.com': 'Tavily',
        'telegram.org': 'Telegram',
        'telkomselcm.telkomsel.com': 'Telkomsel',
        'tencentcloud.com': 'Tencent',
        'termius.com': 'Termius',
        'the-mug-store.infra-43f.workers.dev': 'Mugstore',
        'themebeta.com': 'ThemeBeta',
        'thunderclient.com': 'ThunderClient',
        'tiktok.com': 'TikTok',
        'tldr.tech': 'TLDR',
        'toggl.com': 'Toggl',
        'trae.ai': 'Trae',
        'tunnel.hostddns.us': 'FreeDNS',
        'tunnel.id': 'Tunnel',
        'tuta.com': 'Tutanota',
        'twitter.com': 'Twitter',
        'ubisoft.com': 'Ubisoft',
        'udemy.com': 'Udemy',
        'uniportal.huawei.com': 'Huawei',
        'unsplash.com': 'Unsplash',
        'upwork.com': 'Upwork',
        'us.battle.net': 'Battle',
        'user.kata.ai': 'Kata',
        'vimeo.com': 'Vimeo',
        'vk.com': 'VK',
        'wayscript.com': 'Wayscript',
        'web.aeonfree.com': 'AeonFree',
        'web.mobills.com.br': 'Mobills',
        'web.telegram.org': 'Telegram Web',
        'webauthn.io': 'Webauthn',
        'welcome2.wifi.id': 'WiFi.id',
        'whimsical.com': 'Whimsical',
        'wikimedia.org': 'Wikimedia',
        'windsurf.com': 'Windsurf',
        'wiretrustee.eu.auth0.com': 'WireTrustee',
        'wise.com': 'Wise',
        'wms.wifi.id': 'WMS',
        'wordpress.com': 'WordPress',
        'workos.com': 'WorkOS',
        'www.academia.edu': 'Academia',
        'www.agoda.com': 'Agoda',
        'www.alienwarearena.com': 'Alienwarearena',
        'www.any.do': 'Any',
        'www.artstation.com': 'ArtStation',
        'www.asda.com': 'Asda',
        'www.aukey.com': 'Aukey',
        'www.awwwards.com': 'Awwwards',
        'www.bima.tri.co.id': 'Tri',
        'www.blibli.com': 'Blibli',
        'www.bookmarks.dev': 'Bookmarks',
        'www.bukalapak.com': 'Bukalapak',
        'www.cakeresume.com': 'Cakeresume',
        'www.centered.app': 'Centered',
        'www.change.org': 'Change',
        'www.classcentral.com': 'Classcentral',
        'www.cocreate.id': 'CoCreate',
        'www.codashop.com': 'Codashop',
        'www.codecademy.com': 'CodeCademy',
        'www.codepolitan.com': 'Codepolitan',
        'www.coursera.org': 'Coursera',
        'www.crazydomains.id': 'Crazydomains',
        'www.datacamp.com': 'Datacamp',
        'www.deviantart.com': 'DevianArt',
        'www.dropbox.com': 'Dropbox',
        'www.educative.io': 'Educative',
        'www.epicgames.com': 'Epic',
        'www.eventbrite.com': 'Eventbrite',
        'www.evernote.com': 'Evernote',
        'www.facebook.com': 'Facebook',
        'www.fandom.com': 'Fandom',
        'www.fiverr.com': 'Fiverr',
        'www.fotor.com': 'Fotor',
        'www.genymotion.com': 'Genymotion',
        'www.glassdoor.com': 'Glassdoor',
        'www.glazestock.com': 'GlazeStock',
        'www.goersapp.com': 'Goers',
        'www.goodreads.com': 'Goodreads',
        'www.grammarly.com': 'Grammarly',
        'www.hackerrank.com': 'HackerRank',
        'www.humblebundle.com': 'Humblebundle',
        'www.ign.com': 'Ign',
        'www.imdb.com': 'IMDB',
        'www.joinhoney.com': 'Honey',
        'www.kalibrr.com': 'Kalibrr',
        'www.karir.com': 'Karir',
        'www.kaskus.co.id': 'Kaskus',
        'www.kickstarter.com': 'Kickstarter',
        'www.kraken.com': 'Kraken',
        'www.kredibel.co.id': 'Kredibel',
        'www.last.fm': 'Last.fm',
        'www.launchgood.com': 'LaunchGood',
        'www.locofy.ai': 'Locofy',
        'www.loom.com': 'Loom',
        'www.mail.com': 'Mail',
        'www.mediafire.com': 'Mediafire',
        'www.michaelpage.co.id': 'Michael Page',
        'www.multcloud.com': 'Multcloud',
        'www.namecheap.com': 'Namecheap',
        'www.netflix.com': 'Netflix',
        'www.npmjs.com': 'Npmjs',
        'www.olx.co.id': 'OLX',
        'www.openstreetmap.org': 'OpenStreetMap',
        'www.patreon.com': 'Patreon',
        'www.paypal.com': 'PayPal',
        'www.phind.com': 'Phind',
        'www.reddit.com': 'Reddit',
        'www.rescuetime.com': 'RescueTime',
        'www.salamdakwah.com': 'SalamDakwah',
        'www.sepulsa.com': 'SePulsa',
        'www.shopback.co.id': 'ShopBack',
        'www.skyscanner.co.id': 'Skyscanner',
        'www.techinasia.com': 'TechInAsia',
        'www.ted.com': 'Ted',
        'www.template.net': 'Template',
        'www.tenforums.com': 'TenForums',
        'www.tiket.com': 'Tiket',
        'www.tokopedia.com': 'Tokopedia',
        'www.toptal.com': 'Toptal',
        'www.totaltypescript.com': 'Total TypeScript',
        'www.traveloka.com': 'Traveloka',
        'www.tumblr.com': 'Tumblr',
        'www.tvtime.com': 'Tvtime',
        'www.twilio.com': 'Twilio',
        'www.typing.com': 'Typing',
        'www.typingclub.com': 'Typingclub',
        'www.upwork.com': 'Upwork',
        'www.ushubtv.com': 'UsHub',
        'www.vidio.com': 'Vidio',
        'www.virustotal.com': 'VirusTotal',
        'www.vultr.com': 'Vultr',
        'www.wattpad.com': 'Wattpad',
        'www.worldoftrucks.com': 'Worldoftrucks',
        'www.zenhr.com': 'ZenHR',
        'yaqeeninstitute.org': 'Yaqeen Institute',
        'zapier.com': 'Zapier',
        'zona.mikhmon.me': 'Zona',
        'zoom.us': 'Zoom'
    };

    if (exactMatches[domain]) {
        return exactMatches[domain];
    }

    // Fallback to pattern-based matching for unknown domains
    const patterns = [
        // Internal/admin patterns
        { pattern: /^internal\.(.*)$/, replacement: 'Internal' },
        { pattern: /^admin\.(.*)$/, replacement: 'Admin' },
        { pattern: /^cpanel\.(.*)$/, replacement: 'cPanel' },
        { pattern: /^webmail\.(.*)$/, replacement: 'Webmail' },
        { pattern: /^panel\.(.*)$/, replacement: 'Panel' },
        { pattern: /^dashboard\.(.*)$/, replacement: 'Dashboard' },

        // Auth/service subdomains
        { pattern: /^auth\.(.*)$/, replacement: '$1', transform: 'capitalize' },
        { pattern: /^accounts\.(.*)$/, replacement: '$1', transform: 'capitalize' },
        { pattern: /^login\.(.*)$/, replacement: '$1', transform: 'capitalize' },
        { pattern: /^signin\.(.*)$/, replacement: '$1', transform: 'capitalize' },
        { pattern: /^app\.([a-zA-Z0-9-]+)\.com$/, replacement: '$1', transform: 'capitalize' },

        // Service-specific patterns
        { pattern: /^(.*\.)?hpanel\.hostinger\.com$/, replacement: 'Hostinger' },
        { pattern: /^(.*\.)?cpanel\.(.*)$/, replacement: 'cPanel' },
        { pattern: /^(.*\.)?plesk\.(.*)$/, replacement: 'Plesk' },

        // Common service patterns
        { pattern: /^(.*\.)?github\.com$/, replacement: 'GitHub' },
        { pattern: /^(.*\.)?gitlab\.com$/, replacement: 'GitLab' },
        { pattern: /^(.*\.)?bitbucket\.org$/, replacement: 'Bitbucket' },
        { pattern: /^(.*\.)?stackoverflow\.com$/, replacement: 'Stack Overflow' },
        { pattern: /^(.*\.)?notion\.so$/, replacement: 'Notion' },
        { pattern: /^(.*\.)?figma\.com$/, replacement: 'Figma' },
        { pattern: /^(.*\.)?canva\.com$/, replacement: 'Canva' },

        // WWW subdomain removal
        { pattern: /^www\.(.*)$/, replacement: '$1' },

        // Development environment patterns
        { pattern: /^(.*\.)?localhost$/, replacement: 'Localhost' },
        { pattern: /^(.*\.)?local$/, replacement: 'Local' },
        { pattern: /^(.*\.)?dev\.(.*)$/, replacement: 'Dev' },
        { pattern: /^(.*\.)?staging\.(.*)$/, replacement: 'Staging' },
        { pattern: /^(.*\.)?test\.(.*)$/, replacement: 'Test' }
    ];

    for (const { pattern, replacement, transform } of patterns) {
        const match = domain.match(pattern);
        if (match) {
            let result = replacement;

            // Handle replacement variables
            if (replacement.includes('$1')) {
                result = replacement.replace('$1', match[1] || '');
            }

            // Apply transformations
            if (transform === 'capitalize') {
                result = result.charAt(0).toUpperCase() + result.slice(1);
            }

            return result;
        }
    }

    // Default: Extract and capitalize the main domain or subdomain
    const parts = domain.split('.');
    if (parts.length > 0) {
        const firstPart = parts[0];

        // Skip common prefixes that don't add meaning
        const skipPrefixes = ['www', 'app', 'api', 'admin', 'cpanel', 'webmail', 'mail', 'email'];
        if (!skipPrefixes.includes(firstPart.toLowerCase()) && firstPart.length > 0) {
            return firstPart.charAt(0).toUpperCase() + firstPart.slice(1);
        }

        // If first part is a skip prefix, try the second part
        if (parts.length > 1) {
            const secondPart = parts[1];
            if (secondPart && secondPart.length > 0) {
                return secondPart.charAt(0).toUpperCase() + secondPart.slice(1);
            }
        }
    }

    // Ultimate fallback: return the original domain
    return domain;
}

// Export the function for use in other modules
module.exports = {
    mapDomainToGenericName
};

/**
 * Process a JSON object recursively to update domain titles
 * @param {any} obj - The object to process
 * @returns {any} - The processed object
 */
function processObject(obj) {
    if (typeof obj === 'object' && obj !== null) {
        if (Array.isArray(obj)) {
            return obj.map(processObject);
        } else {
            const processed = {};
            for (const [key, value] of Object.entries(obj)) {
                if (key === 'overview' && typeof value === 'object' && value !== null) {
                    processed[key] = processObject(value);
                    // Update the title if URL exists
                    if (value.title) {
                        const cleanTitle = mapDomainToGenericName(value.title);
                        if (cleanTitle !== value.title) {
                            processed[key] = { ...processed[key], title: cleanTitle };
                        }
                    }
                } else {
                    processed[key] = processObject(value);
                }
            }
            return processed;
        }
    }
    return obj;
}

/**
 * Main function to run the script
 */
function main() {
    try {
        console.log('Reading input.json...');
        const inputData = JSON.parse(fs.readFileSync('input.json', 'utf8'));

        console.log('Processing domains...');
        const processedData = processObject(inputData);

        console.log('Writing output.json...');
        fs.writeFileSync('output.json', JSON.stringify(processedData, null, 2));

        console.log('Domain conversion completed successfully!');
        console.log('Output written to output.json');
    } catch (error) {
        console.error('Error processing domains:', error.message);
        process.exit(1);
    }
}

// Run the script if called directly
if (require.main === module) {
    main();
}
